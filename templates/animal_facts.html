{% extends 'base.html' %}

{% block title %}
Animal Facts
{% endblock %}

{% block content %}
<h1>Animal Facts</h1>
<form action="/animal_facts" method="GET">
    <fieldset>
        <legend>Your Info:</legend>

        <label>
            Which animal do you want facts on?

           
            <select name="animal">
                    <option value=""></option>
                {% for animal in animals %}
                    <option value="{{animal}}">{{animal}}</option>
                {% endfor %}
            </select>
        </label>
    </fieldset>
</form>


{% if fact != "" %}
    <section id="form_results">
        <p>
            Here is your animal fact:
        </p>
        <p>
            <em>{{fact}}</em>
        </p>
    </section>
{% else %}
    Please select an animal
{% endif %}

<script>
let animalSelect = document.querySelector('select')
animalSelect.addEventListener("input", event => {
    document.querySelector('form').submit()
})
</script>

{% endblock %}

